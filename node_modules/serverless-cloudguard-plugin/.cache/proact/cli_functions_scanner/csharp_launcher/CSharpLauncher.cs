using System;
using System.IO;
using function_api_usage_c_sharp;
using Newtonsoft.Json.Linq;

namespace csharp_launcher
{
    public class CSharpLauncher
    {
        public static void Main(string[] args)
        {
            string jsonInputFileName = args[0];
            Console.WriteLine ("json_input_file_name: " + jsonInputFileName);
            JObject input = JObject.Parse (File.ReadAllText (jsonInputFileName));
            Console.WriteLine ("Input: " + input.ToString ());
            Handler handler = new Handler ();
            JObject result = handler.HandleRequest (input, null);
            File.WriteAllText (jsonInputFileName, result.ToString ());
            Console.WriteLine ("Result: " + result.ToString ());
        }
    }
}
